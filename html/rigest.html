<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>注册</title>
		<link rel="stylesheet" href="../css/regist.css" />
		<script type="text/javascript" src="../js/jquery.min.js" ></script>
	</head>
	<body background="../img/xingkong.jpg">
		<div id="div_all">
			<div id="div_form">
				<form>
					<!--action="" method="post"-->
					昵称:<input  type="text" id="userName" name="userName" placeholder="请输入昵称" /><br />
					密码:<input  id="pwd1" type="password" name="password" placeholder="请输入密码" /><br />
					确认:<input  id="pwd2" type="password" name="password_repeat" placeholder="请确认密码" /><br />
					性别:<input type="radio" value="男" name="sex" checked="checked" />男
					<input type="radio" value="女" name="sex" />女<br />
					<input id="registBtn" type="button" value="注册" />
					<a href="login.html">已有账号，去登陆</a>
				</form>
			</div>	
		</div>
		<script>
			$('#registBtn').click(function(){
				var userName=$('#userName').val();
				var pwd1=$('#pwd1').val();
				var pwd2=$('#pwd2').val();
				var sex=$('input[name="sex"]:checked').val();
				console.log("我输出的是:"+userName+"--"+pwd1+"--"+sex);
				$.ajax({
					type:"post",
					url:"http://localhost:8088/Introduction_Java/addUser",
					async:true,
					beforeSend:function(){
						if(pwd1!=pwd2){
							alert("密码不一致");
							return false;
						}else{
							return true;
						}
					},
					data:{
						'userName':userName,
						'password':pwd1,
						'sex':sex,
					},
					dataType:'json',
					success:function(data){
						if(data==false){
							alert("该昵称已经注册");
						}
					},
				});
			})
		</script>
	</body>
</html>
